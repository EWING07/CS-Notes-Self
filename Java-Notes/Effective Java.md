# Effective Java

## 创建和销毁对象

### 第1条：用静态工厂方法代替构造器

它只是一个返回类的实例的静态方法，与设计模式中国的工厂方法模式不同

- 优点
  - 静态工厂方法与构造器不同的第一大优势在于，他们有名称
  - 第二大优势在于：不必在每次调用它们的时候都创建一个新对象
  - 第三大优势在于：它们可以返回原返回类型的任何子类型的对象
  - 所返回的对象的类可以随着每次调用而发生变化，这取决于静态工厂方法参数值
  - 方法返回的对象所属的类，在编写包含该静态工作方法的类时可以不存在

- 缺点：
  - 类如果不含公有的或者受保护的构造器，就不能被子类化
  - 程序员很难发现它们

### 第2条：遇到多个构造器参数时要考虑使用构建器

1. 使用JavaBean模式，先调用一个无参构造器来创建对象，然后再调用setter方法来设置每个必要的参数以及每个相关的了下可选参数。
2. 缺点：
   - 因为构造过程被分到了几个调用中，因此javabean可能处于不一致的状态。
   - 使得把类做成不可变的可能性不复存在，需要维护它的线程安全。
3. 建造者模式：如果类的构造器或者静态工厂中具有多个参数，设计这种类时，builder模式就是一个不错的选择。

### 第3条：用私有构造器或者枚举类型强化Singleton属性

1. singleton是指仅仅被实例化一次的类。
2. 单元素的枚举类型经常称为实现singleton的最佳方法，但是如果要扩展成超类而不是扩展enum的时候，就不太适合了

### 第4条：通过私有构造器强化不可实例化的能力

### 第5条：优先考虑依赖注入来引用资源

### 第6条：避免创建不必要的对象

### 第7条：清除过期的对象引用

### 第8条：避免使用终结方法和清除方法

## 对于所有对象都通用的方法

